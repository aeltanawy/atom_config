{"version":3,"file":"index.js","sources":["../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isMasked.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_coreJsData.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toSource.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNative.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getValue.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getNative.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeCreate.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashClear.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashDelete.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashGet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashHas.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashSet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Hash.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheClear.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/eq.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assocIndexOf.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheDelete.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheGet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheHas.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheSet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_ListCache.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Map.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheClear.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKeyable.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMapData.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheDelete.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheGet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheHas.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheSet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_MapCache.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheAdd.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheHas.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_SetCache.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFindIndex.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNaN.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_strictIndexOf.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOf.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludes.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludesWith.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cacheHas.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Set.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/noop.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToArray.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createSet.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUniq.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniq.js","../lib/validate/helpers.ts","../lib/validate/index.ts","../lib/ui-registry.ts","../lib/helpers.ts","../lib/indie-delegate.ts","../lib/indie-registry.ts","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/now.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_trimmedEndIndex.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTrim.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toNumber.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/debounce.js","../lib/message-registry.ts","../lib/linter-registry.ts","../lib/editor-linter.ts","../lib/editor-registry.ts","../lib/commands.ts","../lib/toggle-view.ts","../lib/index.ts","../lib/main.ts"],"sourcesContent":["/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","export function showError(title: string, description: string, points: Array<string>) {\n  const renderedPoints = points.map(item => `  • ${item}`)\n  atom.notifications.addWarning(`[Linter] ${title}`, {\n    dismissable: true,\n    detail: `${description}\\n${renderedPoints.join('\\n')}`,\n  })\n}\n","import { Range, Point } from 'atom'\nimport { showError } from './helpers'\nimport type { UI, Linter, Message, Indie } from '../types'\n\nconst VALID_SEVERITY = new Set(['error', 'warning', 'info'])\n\nfunction validateUI(ui: UI): boolean {\n  const messages = []\n\n  if (ui && typeof ui === 'object') {\n    if (typeof ui.name !== 'string') {\n      messages.push('UI.name must be a string')\n    }\n    if (typeof ui.didBeginLinting !== 'function') {\n      messages.push('UI.didBeginLinting must be a function')\n    }\n    if (typeof ui.didFinishLinting !== 'function') {\n      messages.push('UI.didFinishLinting must be a function')\n    }\n    if (typeof ui.render !== 'function') {\n      messages.push('UI.render must be a function')\n    }\n    if (typeof ui.dispose !== 'function') {\n      messages.push('UI.dispose must be a function')\n    }\n  } else {\n    messages.push('UI must be an object')\n  }\n\n  if (messages.length) {\n    showError(\n      'Invalid UI received',\n      `These issues were encountered while registering the UI named '${ui && ui.name ? ui.name : 'Unknown'}'`,\n      messages,\n    )\n    return false\n  }\n\n  return true\n}\n\nfunction validateLinter(linter: Linter): boolean {\n  const messages = []\n\n  if (linter && typeof linter === 'object') {\n    if (typeof linter.name !== 'string') {\n      messages.push('Linter.name must be a string')\n    }\n    if (typeof linter.scope !== 'string' || (linter.scope !== 'file' && linter.scope !== 'project')) {\n      messages.push(\"Linter.scope must be either 'file' or 'project'\")\n    }\n    if (typeof linter.lintsOnChange !== 'boolean') {\n      messages.push('Linter.lintsOnChange must be a boolean')\n    }\n    if (!Array.isArray(linter.grammarScopes)) {\n      messages.push('Linter.grammarScopes must be an Array')\n    }\n    if (typeof linter.lint !== 'function') {\n      messages.push('Linter.lint must be a function')\n    }\n  } else {\n    messages.push('Linter must be an object')\n  }\n\n  if (messages.length) {\n    showError(\n      'Invalid Linter received',\n      `These issues were encountered while registering a Linter named '${linter && linter.name ? linter.name : 'Unknown'}'`,\n      messages,\n    )\n    return false\n  }\n\n  return true\n}\n\nfunction validateIndie(indie: Indie): boolean {\n  const messages = []\n\n  if (indie && typeof indie === 'object') {\n    if (typeof indie.name !== 'string') {\n      messages.push('Indie.name must be a string')\n    }\n  } else {\n    messages.push('Indie must be an object')\n  }\n\n  if (messages.length) {\n    showError(\n      'Invalid Indie received',\n      `These issues were encountered while registering an Indie Linter named '${\n        indie && indie.name ? indie.name : 'Unknown'\n      }'`,\n      messages,\n    )\n    return false\n  }\n\n  return true\n}\n\nfunction validateMessages(linterName: string, entries: Array<Message>): boolean {\n  const messages = []\n\n  if (Array.isArray(entries)) {\n    let invalidURL = false\n    let invalidIcon = false\n    let invalidExcerpt = false\n    let invalidLocation = false\n    let invalidSeverity = false\n    let invalidSolution = false\n    let invalidReference = false\n    let invalidDescription = false\n    let invalidLinterName = false\n\n    for (let i = 0, { length } = entries; i < length; ++i) {\n      const message = entries[i]\n      const { reference } = message\n      if (!invalidIcon && message.icon && typeof message.icon !== 'string') {\n        invalidIcon = true\n        messages.push('Message.icon must be a string')\n      }\n      if (\n        !invalidLocation &&\n        (!message.location ||\n          typeof message.location !== 'object' ||\n          typeof message.location.file !== 'string' ||\n          typeof message.location.position !== 'object' ||\n          !message.location.position)\n      ) {\n        invalidLocation = true\n        messages.push('Message.location must be valid')\n      } else if (!invalidLocation) {\n        const range = Range.fromObject(message.location.position)\n        if (\n          Number.isNaN(range.start.row) ||\n          Number.isNaN(range.start.column) ||\n          Number.isNaN(range.end.row) ||\n          Number.isNaN(range.end.column)\n        ) {\n          invalidLocation = true\n          messages.push('Message.location.position should not contain NaN coordinates')\n        }\n      }\n      if (!invalidSolution && message.solutions && !Array.isArray(message.solutions)) {\n        invalidSolution = true\n        messages.push('Message.solutions must be valid')\n      }\n      if (\n        !invalidReference &&\n        reference &&\n        (typeof reference !== 'object' ||\n          typeof reference.file !== 'string' ||\n          typeof reference.position !== 'object' ||\n          !reference.position)\n      ) {\n        invalidReference = true\n        messages.push('Message.reference must be valid')\n      } else if (!invalidReference && reference && reference.position !== undefined) {\n        const position = Point.fromObject(reference.position)\n        if (Number.isNaN(position.row) || Number.isNaN(position.column)) {\n          invalidReference = true\n          messages.push('Message.reference.position should not contain NaN coordinates')\n        }\n      }\n      if (!invalidExcerpt && typeof message.excerpt !== 'string') {\n        invalidExcerpt = true\n        messages.push('Message.excerpt must be a string')\n      }\n      if (!invalidSeverity && !VALID_SEVERITY.has(message.severity)) {\n        invalidSeverity = true\n        messages.push(\"Message.severity must be 'error', 'warning' or 'info'\")\n      }\n      if (!invalidURL && message.url && typeof message.url !== 'string') {\n        invalidURL = true\n        messages.push('Message.url must be a string')\n      }\n      if (\n        !invalidDescription &&\n        message.description &&\n        typeof message.description !== 'function' &&\n        typeof message.description !== 'string'\n      ) {\n        invalidDescription = true\n        messages.push('Message.description must be a function or string')\n      }\n      if (!invalidLinterName && message.linterName && typeof message.linterName !== 'string') {\n        invalidLinterName = true\n        messages.push('Message.linterName must be a string')\n      }\n    }\n  } else {\n    messages.push('Linter Result must be an Array')\n  }\n\n  if (messages.length) {\n    showError(\n      'Invalid Linter Result received',\n      `These issues were encountered while processing messages from a linter named '${linterName}'`,\n      messages,\n    )\n    return false\n  }\n\n  return true\n}\n\nexport { validateUI as ui, validateLinter as linter, validateIndie as indie, validateMessages as messages }\n","import { CompositeDisposable } from 'atom'\nimport { ui as validateUI } from './validate'\nimport type { Linter, UI, MessagesPatch } from './types'\n\nexport default class UIRegistry {\n  private providers: Set<UI> = new Set()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n\n  add(ui: UI) {\n    if (!this.providers.has(ui) && validateUI(ui)) {\n      this.subscriptions.add(ui)\n      this.providers.add(ui)\n    }\n  }\n  delete(provider: UI) {\n    if (this.providers.has(provider)) {\n      provider.dispose()\n      this.providers.delete(provider)\n    }\n  }\n  getProviders(): Array<UI> {\n    return Array.from(this.providers)\n  }\n  render(messages: MessagesPatch) {\n    this.providers.forEach(function (provider) {\n      provider.render(messages)\n    })\n  }\n  didBeginLinting(linter: Linter, filePath: string | null | undefined = null) {\n    this.providers.forEach(function (provider) {\n      provider.didBeginLinting(linter, filePath)\n    })\n  }\n  didFinishLinting(linter: Linter, filePath: string | null | undefined = null) {\n    this.providers.forEach(function (provider) {\n      provider.didFinishLinting(linter, filePath)\n    })\n  }\n  dispose() {\n    this.providers.clear()\n    this.subscriptions.dispose()\n  }\n}\n","import arrayUnique from 'lodash/uniq'\nimport { Directory, Range, Point } from 'atom'\nimport type { TextEditor } from 'atom'\nimport type { Linter, Message, MessageSolution } from './types'\n\nexport const $version = '__$sb_linter_version'\nexport const $activated = '__$sb_linter_activated'\nexport const $requestLatest = '__$sb_linter_request_latest'\nexport const $requestLastReceived = '__$sb_linter_request_last_received'\n\nexport function shouldTriggerLinter(linter: Linter, wasTriggeredOnChange: boolean, scopes: Array<string>): boolean {\n  if (wasTriggeredOnChange && !linter.lintsOnChange) {\n    return false\n  }\n  return scopes.some(function (scope) {\n    return linter.grammarScopes.includes(scope)\n  })\n}\n\nexport function getEditorCursorScopes(textEditor: TextEditor): Array<string> {\n  return arrayUnique(\n    textEditor.getCursors().reduce((scopes, cursor) => scopes.concat(cursor.getScopeDescriptor().getScopesArray()), ['*']),\n  )\n}\n\nlet minimatch: typeof import('minimatch')\nexport async function isPathIgnored(\n  filePath: string | null | undefined,\n  ignoredGlob: string,\n  ignoredVCS: boolean,\n): Promise<boolean> {\n  if (!filePath) {\n    return true\n  }\n\n  if (ignoredVCS) {\n    const directory = new Directory(filePath)\n    const repository = await atom.project.repositoryForDirectory(directory)\n    if (repository && repository.isPathIgnored(filePath)) {\n      return true\n    }\n  }\n  const normalizedFilePath = process.platform === 'win32' ? filePath.replace(/\\\\/g, '/') : filePath\n  if (!minimatch) {\n    minimatch = require('minimatch')\n  }\n  return minimatch(normalizedFilePath, ignoredGlob)\n}\n\nexport function updateMessageKey(message: Message) {\n  const { reference, location } = message\n  message.key = [\n    `$LINTER:${message.linterName}`,\n    `$LOCATION:${location.file}$${location.position.start.row}$${location.position.start.column}$${location.position.end.row}$${location.position.end.column}`,\n    reference\n      ? `$REFERENCE:${reference.file}$${reference.position ? `${reference.position.row}$${reference.position.column}` : ''}`\n      : '$REFERENCE:null',\n    `$EXCERPT:${message.excerpt}`,\n    `$SEVERITY:${message.severity}`,\n    message.icon ? `$ICON:${message.icon}` : '$ICON:null',\n    message.url ? `$URL:${message.url}` : '$URL:null',\n    typeof message.description === 'string' ? `$DESCRIPTION:${message.description}` : '$DESCRIPTION:null',\n  ].join('')\n}\n\nexport function normalizeMessages(linterName: string, messages: Array<Message>) {\n  for (let i = 0, { length } = messages; i < length; ++i) {\n    const message = messages[i]\n    const { reference } = message\n    if (Array.isArray(message.location.position)) {\n      message.location.position = Range.fromObject(message.location.position)\n    }\n    if (reference && Array.isArray(reference.position)) {\n      reference.position = Point.fromObject(reference.position)\n    }\n    if (message.solutions && message.solutions.length) {\n      for (let j = 0, _length = message.solutions.length, solution: MessageSolution; j < _length; j++) {\n        solution = message.solutions[j]\n        if (Array.isArray(solution.position)) {\n          solution.position = Range.fromObject(solution.position)\n        }\n      }\n    }\n    message.version = 2\n    if (!message.linterName) {\n      message.linterName = linterName\n    }\n    updateMessageKey(message)\n  }\n}\n\n// update the key of the given messages\nexport function updateKeys(messages: Array<Message>) {\n  messages.forEach(m => {\n    updateMessageKey(m)\n  })\n}\n\n// create a map from keys to messages\nexport function createKeyMessageMap(messages: Array<Message>): Map<string, Message> {\n  const keyMessageMap = new Map()\n  for (let i = 0, { length } = messages; i < length; ++i) {\n    const message = messages[i]\n    keyMessageMap.set(message.key, message)\n  }\n  return keyMessageMap\n}\n\ninterface FlaggedMessages {\n  oldKept: Array<Message>\n  oldRemoved: Array<Message>\n  newAdded: Array<Message>\n}\n\n// This fast function returns the new messages and old messages by comparing their key against the cache.\n// This prevents re-rendering the already rendered messages\nexport function flagMessages(inputs: Array<Message>, oldMessages: Array<Message>): FlaggedMessages | null {\n  // inputs check\n  if (inputs === undefined || oldMessages === undefined) {\n    return null\n  }\n\n  // All the messages of the linter are new, no need to diff\n  // tag the messages for adding and save them to linter's cache\n  if (!oldMessages.length) {\n    // NOTE: No need to add .key here because normalizeMessages already does that\n    return { oldKept: [], oldRemoved: [], newAdded: inputs }\n  }\n\n  // The linter has no messages anymore\n  // tag all of its messages from cache for removal and empty the cache\n  if (!inputs.length) {\n    return { oldKept: [], oldRemoved: oldMessages, newAdded: [] }\n  }\n\n  // In all the other situations:\n  // perform diff checking between the linter's new messages and its cache\n\n  // create a map from keys to oldMessages\n  const cache = createKeyMessageMap(oldMessages)\n\n  // Find old kept and new added\n  const newAdded: Set<Message> = new Set()\n  const oldKept: Map<string, Message> = new Map()\n  for (let iInput = 0, len = inputs.length; iInput < len; iInput++) {\n    const input = inputs[iInput]\n    if (cache.has(input.key)) {\n      oldKept.set(input.key, input)\n    } else {\n      newAdded.add(input)\n    }\n  }\n\n  // Find old removed\n  const cacheKeys = Array.from(cache.keys())\n  const oldKeptKeys = Array.from(oldKept.keys())\n\n  const oldRemovedKeys = cacheKeys.filter(x => !oldKeptKeys.includes(x))\n\n  const oldRemoved: Set<Message> = new Set()\n  for (let iRemoved = 0, RemovedKeysLen = oldRemovedKeys.length; iRemoved < RemovedKeysLen; iRemoved++) {\n    // cache is created from oldMessages and oldRemovedKeys is a subset of oldMessages. So this will not be undefined\n    oldRemoved.add(cache.get(oldRemovedKeys[iRemoved]) as Message)\n  }\n\n  return {\n    oldKept: Array.from(oldKept.values()),\n    oldRemoved: [...oldRemoved],\n    newAdded: [...newAdded],\n  }\n}\n\n// fast mergeArray function\n// https://uilicious.com/blog/javascript-array-push-is-945x-faster-than-array-concat/\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nexport function mergeArray(arr1: Array<any>, arr2: Array<any>) {\n  if (!arr2.length) {\n    return\n  }\n  Array.prototype.push.apply(arr1, arr2)\n}\n","import { Emitter, CompositeDisposable } from 'atom'\nimport type { Disposable } from 'atom'\n\nimport * as Validate from './validate'\nimport { normalizeMessages, mergeArray } from './helpers'\nimport type { Indie, Message } from './types'\n\nexport default class IndieDelegate {\n  private indie: Indie\n  scope: 'project' = 'project'\n  private emitter: Emitter = new Emitter()\n  version: 2\n  private messages: Map<string | null | undefined, Array<Message>> = new Map()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n\n  constructor(indie: Indie, version: 2) {\n    this.indie = indie\n    this.version = version\n    this.subscriptions.add(this.emitter)\n  }\n  get name(): string {\n    return this.indie.name\n  }\n  getMessages(): Array<Message> {\n    const out: Array<Message> = []\n    this.messages.forEach(m => {\n      mergeArray(out, m)\n    })\n    return out\n  }\n  clearMessages(): void {\n    if (!this.subscriptions.disposed) {\n      this.emitter.emit('did-update', [])\n      this.messages.clear()\n    }\n  }\n  setMessages(filePath: string | Array<Record<string, any>>, messages: Array<Message> | null | undefined = null): void {\n    // v2 Support from here on\n    if (typeof filePath !== 'string' || !Array.isArray(messages)) {\n      throw new Error('Invalid Parameters to setMessages()')\n    }\n    if (this.subscriptions.disposed || !Validate.messages(this.name, messages)) {\n      return\n    }\n    messages.forEach(function (message) {\n      if (message.location.file !== filePath) {\n        console.debug('[Linter-UI-Default] Expected File', filePath, 'Message', message)\n        throw new Error('message.location.file does not match the given filePath')\n      }\n    })\n\n    normalizeMessages(this.name, messages)\n    this.messages.set(filePath, messages)\n    this.emitter.emit('did-update', this.getMessages())\n  }\n  setAllMessages(messages: Array<Message>): void {\n    if (this.subscriptions.disposed) {\n      return\n    }\n\n    if (!Array.isArray(messages) || atom.inDevMode()) {\n      if (!Validate.messages(this.name, messages)) {\n        return\n      }\n    }\n    normalizeMessages(this.name, messages)\n\n    this.messages.clear()\n    for (let i = 0, { length } = messages; i < length; ++i) {\n      const message: Message = messages[i]\n      const filePath = message.location.file\n      let fileMessages = this.messages.get(filePath)\n      if (!fileMessages) {\n        this.messages.set(filePath, (fileMessages = []))\n      }\n      fileMessages.push(message)\n    }\n    this.emitter.emit('did-update', this.getMessages())\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  onDidUpdate(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-update', callback)\n  }\n  onDidDestroy(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-destroy', callback)\n  }\n  /* eslint-enable @typescript-eslint/no-explicit-any */\n\n  dispose(): void {\n    this.emitter.emit('did-destroy')\n    this.subscriptions.dispose()\n    this.messages.clear()\n  }\n}\n","import { Emitter, CompositeDisposable } from 'atom'\nimport type { Disposable } from 'atom'\n\nimport IndieDelegate from './indie-delegate'\nimport { indie as validateIndie } from './validate'\nimport type { Indie } from './types'\n\nexport default class IndieRegistry {\n  private emitter: Emitter = new Emitter()\n  private delegates: Set<IndieDelegate> = new Set()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n\n  constructor() {\n    this.subscriptions.add(this.emitter)\n  }\n  // Public method\n  register(config: Indie, version: 2): IndieDelegate {\n    if (!validateIndie(config)) {\n      throw new Error('Error registering Indie Linter')\n    }\n    const indieLinter = new IndieDelegate(config, version)\n    this.delegates.add(indieLinter)\n    indieLinter.onDidDestroy(() => {\n      this.delegates.delete(indieLinter)\n    })\n    indieLinter.onDidUpdate(messages => {\n      this.emitter.emit('did-update', { linter: indieLinter, messages })\n    })\n    this.emitter.emit('observe', indieLinter)\n\n    return indieLinter\n  }\n  getProviders(): Array<IndieDelegate> {\n    return Array.from(this.delegates)\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  observe(callback: (...args: Array<any>) => any): Disposable {\n    this.delegates.forEach(callback)\n    return this.emitter.on('observe', callback)\n  }\n  onDidUpdate(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-update', callback)\n  }\n  /* eslint-enable @typescript-eslint/no-explicit-any */\n\n  dispose() {\n    for (const entry of this.delegates) {\n      entry.dispose()\n    }\n    this.subscriptions.dispose()\n  }\n}\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","import { CompositeDisposable, Emitter } from 'atom'\nimport debounce from 'lodash/debounce'\nimport type { Disposable, TextBuffer } from 'atom'\nimport { flagMessages, mergeArray } from './helpers'\nimport type { MessagesPatch, Message, Linter } from './types'\n\ntype Linter$Message$Map = {\n  buffer: TextBuffer | null | undefined\n  linter: Linter\n  changed: boolean\n  deleted: boolean\n  messages: Array<Message>\n  oldMessages: Array<Message>\n}\n\nexport default class MessageRegistry {\n  private emitter: Emitter = new Emitter()\n  messages: Array<Message> = []\n  private messagesMap: Set<Linter$Message$Map> = new Set()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n  private debouncedUpdate: () => void\n\n  constructor() {\n    this.debouncedUpdate = debounce(this.update, 100, { leading: true })\n    this.subscriptions.add(this.emitter)\n  }\n  set({ messages, linter, buffer }: { messages: Array<Message>; linter: Linter; buffer: TextBuffer | null }) {\n    // check if the linter has been already set\n    let found = null\n    for (const entry of this.messagesMap) {\n      if (entry.buffer === buffer && entry.linter === linter) {\n        found = entry\n        break\n      }\n    }\n\n    if (found) {\n      // found linter\n      found.messages = messages\n      found.changed = true\n    } else {\n      // new linter\n      this.messagesMap.add({ messages, linter, buffer, oldMessages: [], changed: true, deleted: false })\n    }\n    this.debouncedUpdate()\n  }\n  update() {\n    // the final object sent to UI that contains the messages tagged for adding/removeal. messages is all the kept + added messages\n    const result: { added: Array<Message>; removed: Array<Message>; messages: Array<Message> } = {\n      added: [],\n      removed: [],\n      messages: [],\n    }\n\n    // looping over each linter\n    for (const entry of this.messagesMap) {\n      // if linter is deleted\n      // tag the linter's cache for removal and delete it from the map\n      if (entry.deleted) {\n        mergeArray(result.removed, entry.oldMessages)\n        this.messagesMap.delete(entry)\n        continue\n      }\n\n      // if the linter is not changed\n      // just use its cache (no added/removed and everything is kept) and skip the rest\n      if (!entry.changed) {\n        // TODO When this code acutally runs?!\n        mergeArray(result.messages, entry.oldMessages)\n        continue\n      }\n\n      // flag messages as oldKept, oldRemoved, newAdded\n      const flaggedMessages = flagMessages(entry.messages, entry.oldMessages)\n\n      // update the result and cache\n      if (flaggedMessages !== null) {\n        const { oldKept, oldRemoved, newAdded } = flaggedMessages\n        mergeArray(result.added, newAdded)\n        mergeArray(result.removed, oldRemoved)\n        const allThisEntry = newAdded.concat(oldKept)\n        mergeArray(result.messages, allThisEntry)\n        entry.oldMessages = allThisEntry // update chache\n      }\n    }\n\n    // if any messages is removed or added, then update the UI\n    if (result.added.length || result.removed.length) {\n      this.messages = result.messages\n      this.emitter.emit('did-update-messages', result)\n    }\n  }\n  onDidUpdateMessages(callback: (difference: MessagesPatch) => void): Disposable {\n    return this.emitter.on('did-update-messages', callback)\n  }\n  deleteByBuffer(buffer: TextBuffer) {\n    for (const entry of this.messagesMap) {\n      if (entry.buffer === buffer) {\n        entry.deleted = true\n      }\n    }\n    this.debouncedUpdate()\n  }\n  deleteByLinter(linter: Linter) {\n    for (const entry of this.messagesMap) {\n      if (entry.linter === linter) {\n        entry.deleted = true\n      }\n    }\n    this.debouncedUpdate()\n  }\n  dispose() {\n    this.subscriptions.dispose()\n  }\n}\n","import { Emitter, CompositeDisposable } from 'atom'\nimport type { TextEditor, Disposable, Notification } from 'atom'\n\nimport * as Helpers from './helpers'\nimport * as Validate from './validate'\nimport { $version, $activated, $requestLatest, $requestLastReceived } from './helpers'\nimport type { Linter } from './types'\n\nexport default class LinterRegistry {\n  private emitter: Emitter = new Emitter()\n  private linters: Set<Linter> = new Set()\n  private lintOnChange: boolean = true\n  private ignoreVCS: boolean = true\n  private ignoreGlob: string = '**/*.min.{js,css}'\n  private lintPreviewTabs: boolean = true\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n  private disabledProviders: Array<string> = []\n  private activeNotifications: Set<Notification> = new Set()\n\n  constructor() {\n    this.subscriptions.add(\n      this.emitter,\n      atom.config.observe('linter.lintOnChange', lintOnChange => {\n        this.lintOnChange = lintOnChange\n      }),\n      atom.config.observe('core.excludeVcsIgnoredPaths', ignoreVCS => {\n        this.ignoreVCS = ignoreVCS\n      }),\n      atom.config.observe('linter.ignoreGlob', ignoreGlob => {\n        this.ignoreGlob = ignoreGlob\n      }),\n      atom.config.observe('linter.lintPreviewTabs', lintPreviewTabs => {\n        this.lintPreviewTabs = lintPreviewTabs\n      }),\n      atom.config.observe('linter.disabledProviders', disabledProviders => {\n        this.disabledProviders = disabledProviders\n      }),\n    )\n  }\n  hasLinter(linter: Linter): boolean {\n    return this.linters.has(linter)\n  }\n  addLinter(linter: Linter) {\n    if (!Validate.linter(linter)) {\n      return\n    }\n    linter[$activated] = true\n    if (typeof linter[$requestLatest] === 'undefined') {\n      linter[$requestLatest] = 0\n    }\n    if (typeof linter[$requestLastReceived] === 'undefined') {\n      linter[$requestLastReceived] = 0\n    }\n    linter[$version] = 2\n    this.linters.add(linter)\n  }\n  getProviders(): Array<Linter> {\n    return Array.from(this.linters)\n  }\n  deleteLinter(linter: Linter) {\n    if (!this.linters.has(linter)) {\n      return\n    }\n    linter[$activated] = false\n    this.linters.delete(linter)\n  }\n  async lint({ onChange, editor }: { onChange: boolean; editor: TextEditor }): Promise<boolean> {\n    const filePath = editor.getPath()\n\n    if (\n      (onChange && !this.lintOnChange) || // Lint-on-change mismatch\n      // Ignored by VCS, Glob, or simply not saved anywhere yet\n      (!this.lintPreviewTabs && atom.workspace.getActivePane().getPendingItem() === editor) || // Ignore Preview tabs\n      (await Helpers.isPathIgnored(editor.getPath(), this.ignoreGlob, this.ignoreVCS))\n    ) {\n      return false\n    }\n\n    const scopes = Helpers.getEditorCursorScopes(editor)\n\n    const promises = []\n    for (const linter of this.linters) {\n      if (!Helpers.shouldTriggerLinter(linter, onChange, scopes)) {\n        continue\n      }\n      if (this.disabledProviders.includes(linter.name)) {\n        continue\n      }\n      const number = ++linter[$requestLatest]\n      const statusBuffer = linter.scope === 'file' ? editor.getBuffer() : null\n      const statusFilePath = linter.scope === 'file' ? filePath : null\n\n      this.emitter.emit('did-begin-linting', { number, linter, filePath: statusFilePath })\n      promises.push(\n        new Promise(function (resolve: (editor: ReturnType<Linter['lint']>) => void) {\n          resolve(linter.lint(editor))\n        }).then(\n          messages => {\n            this.emitter.emit('did-finish-linting', { number, linter, filePath: statusFilePath })\n            if (linter[$requestLastReceived] >= number || !linter[$activated] || (statusBuffer && !statusBuffer.isAlive())) {\n              return\n            }\n            linter[$requestLastReceived] = number\n            if (statusBuffer && !statusBuffer.isAlive()) {\n              return\n            }\n\n            if (messages === null) {\n              // NOTE: Do NOT update the messages when providers return null\n              return\n            }\n\n            let validity = true\n            // NOTE: We are calling it when results are not an array to show a nice notification\n            if (atom.inDevMode() || !Array.isArray(messages)) {\n              validity = Validate.messages(linter.name, messages)\n            }\n            if (!validity) {\n              return\n            }\n\n            Helpers.normalizeMessages(linter.name, messages)\n            this.emitter.emit('did-update-messages', { messages, linter, buffer: statusBuffer })\n          },\n          error => {\n            this.emitter.emit('did-finish-linting', { number, linter, filePath: statusFilePath })\n\n            console.error(`[Linter] Error running ${linter.name}`, error)\n            const notificationMessage = `[Linter] Error running ${linter.name}`\n            if (Array.from(this.activeNotifications).some(item => item.getOptions().detail === notificationMessage)) {\n              // This message is still showing to the user!\n              return\n            }\n\n            const notification = atom.notifications.addError(notificationMessage, {\n              detail: 'See Console for more info.',\n              dismissable: true,\n              buttons: [\n                {\n                  text: 'Open Console',\n                  onDidClick: () => {\n                    atom.openDevTools()\n                    notification.dismiss()\n                  },\n                },\n                {\n                  text: 'Cancel',\n                  onDidClick: () => {\n                    notification.dismiss()\n                  },\n                },\n              ],\n            })\n          },\n        ),\n      )\n    }\n\n    await Promise.all(promises)\n    return true\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  onDidUpdateMessages(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-update-messages', callback)\n  }\n  onDidBeginLinting(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-begin-linting', callback)\n  }\n  onDidFinishLinting(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-finish-linting', callback)\n  }\n  /* eslint-enable @typescript-eslint/no-explicit-any */\n\n  dispose() {\n    this.activeNotifications.forEach(notification => notification.dismiss())\n    this.activeNotifications.clear()\n    this.linters.clear()\n    this.subscriptions.dispose()\n  }\n}\n","import { Emitter, CompositeDisposable, Disposable } from 'atom'\nimport debounce from 'lodash/debounce'\nimport type { TextEditor } from 'atom'\n\nexport default class EditorLinter {\n  private editor: TextEditor\n  private emitter: Emitter = new Emitter()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n\n  constructor(editor: TextEditor) {\n    if (!atom.workspace.isTextEditor(editor)) {\n      throw new Error('EditorLinter expects a valid TextEditor')\n    }\n    const editorBuffer = editor.getBuffer()\n    const debouncedLint = debounce(\n      () => {\n        this.emitter.emit('should-lint', false)\n      },\n      50,\n      { leading: true },\n    )\n\n    this.editor = editor\n\n    this.subscriptions.add(\n      this.editor.onDidDestroy(() => this.dispose()),\n\n      // This debouncing is for beautifiers, if they change contents of the editor and save\n      // Linter should count that group of events as one.\n      this.editor.onDidSave(debouncedLint),\n\n      // This is to relint in case of external changes to the opened file\n      editorBuffer.onDidReload(debouncedLint),\n\n      // NOTE: TextEditor::onDidChange immediately invokes the callback if the text editor was *just* created\n      // Using TextBuffer::onDidChange doesn't have the same behavior so using it instead.\n      this.subscriptiveObserve(atom.config, 'linter.lintOnChangeInterval', interval =>\n        editorBuffer.onDidChange(\n          debounce(() => {\n            this.emitter.emit('should-lint', true)\n          }, interval),\n        ),\n      ),\n    )\n  }\n  getEditor(): TextEditor {\n    return this.editor\n  }\n  lint(onChange: boolean = false) {\n    this.emitter.emit('should-lint', onChange)\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  onShouldLint(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('should-lint', callback)\n  }\n  onDidDestroy(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('did-destroy', callback)\n  }\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n\n  dispose() {\n    this.emitter.emit('did-destroy')\n    this.subscriptions.dispose()\n    this.emitter.dispose()\n  }\n\n  subscriptiveObserve(object: Record<string, any>, eventName: string, callback: (...args: Array<any>) => any): Disposable {\n    let subscription: Disposable | null = null\n    const eventSubscription = object.observe(eventName, (props: Record<string, any>) => {\n      if (subscription) {\n        subscription.dispose()\n      }\n      subscription = callback.call(this, props)\n    })\n\n    return new Disposable(function () {\n      eventSubscription.dispose()\n      if (subscription) {\n        subscription.dispose()\n      }\n    })\n  }\n}\n","import { Emitter, CompositeDisposable } from 'atom'\nimport type { Disposable, TextEditor } from 'atom'\nimport EditorLinter from './editor-linter'\n\nexport default class EditorRegistry {\n  private emitter: Emitter = new Emitter()\n  private lintOnOpen: boolean = true\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n  private editorLinters: Map<TextEditor, EditorLinter> = new Map()\n\n  constructor() {\n    this.subscriptions.add(\n      this.emitter,\n      atom.config.observe('linter.lintOnOpen', lintOnOpen => {\n        this.lintOnOpen = lintOnOpen\n      }),\n    )\n  }\n  activate() {\n    this.subscriptions.add(\n      atom.workspace.observeTextEditors(textEditor => {\n        this.createFromTextEditor(textEditor)\n      }),\n    )\n  }\n  get(textEditor: TextEditor): EditorLinter | null | undefined {\n    return this.editorLinters.get(textEditor)\n  }\n  createFromTextEditor(textEditor: TextEditor): EditorLinter {\n    let editorLinter = this.editorLinters.get(textEditor)\n    if (editorLinter) {\n      return editorLinter\n    }\n    editorLinter = new EditorLinter(textEditor)\n    editorLinter.onDidDestroy(() => {\n      this.editorLinters.delete(textEditor)\n    })\n    this.editorLinters.set(textEditor, editorLinter)\n    this.emitter.emit('observe', editorLinter)\n    if (this.lintOnOpen) {\n      editorLinter.lint()\n    }\n    return editorLinter\n  }\n  hasSibling(editorLinter: EditorLinter): boolean {\n    const buffer = editorLinter.getEditor().getBuffer()\n\n    return Array.from(this.editorLinters.keys()).some(item => item.getBuffer() === buffer)\n  }\n  observe(callback: (editorLinter: EditorLinter) => void): Disposable {\n    this.editorLinters.forEach(callback)\n    return this.emitter.on('observe', callback)\n  }\n  dispose() {\n    for (const entry of this.editorLinters.values()) {\n      entry.dispose()\n    }\n    this.subscriptions.dispose()\n  }\n}\n","import { CompositeDisposable, Emitter } from 'atom'\nimport type { Disposable } from 'atom'\n\nimport * as Helpers from './helpers'\nimport type { Linter, UI } from './types'\nimport type IndieDelegate from './indie-delegate'\n\nlet manifest: { version: number }\n\nfunction formatItem(item: { name: string } | string) {\n  let itemName: string\n  if (item && typeof item === 'object' && typeof item.name === 'string') {\n    itemName = item.name\n  } else if (typeof item === 'string') {\n    itemName = item\n  } else {\n    throw new Error('Unknown object passed to formatItem()')\n  }\n  return `  - ${itemName}`\n}\nfunction sortByName(item1: { name: string }, item2: { name: string }) {\n  return item1.name.localeCompare(item2.name)\n}\n\nexport class Commands {\n  private emitter: Emitter = new Emitter()\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n\n  constructor() {\n    this.subscriptions.add(\n      this.emitter,\n      atom.commands.add('atom-workspace', {\n        'linter:enable-linter': () => this.enableLinter(),\n        'linter:disable-linter': () => this.disableLinter(),\n      }),\n      atom.commands.add('atom-text-editor:not([mini])', {\n        'linter:lint': () => this.lint(),\n        'linter:debug': () => this.debug(),\n        'linter:toggle-active-editor': () => this.toggleActiveEditor(),\n      }),\n    )\n  }\n  lint() {\n    this.emitter.emit('should-lint')\n  }\n  debug() {\n    this.emitter.emit('should-debug')\n  }\n  enableLinter() {\n    this.emitter.emit('should-toggle-linter', 'enable')\n  }\n  disableLinter() {\n    this.emitter.emit('should-toggle-linter', 'disable')\n  }\n  toggleActiveEditor() {\n    this.emitter.emit('should-toggle-active-editor')\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  onShouldLint(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('should-lint', callback)\n  }\n  onShouldDebug(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('should-debug', callback)\n  }\n  onShouldToggleActiveEditor(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('should-toggle-active-editor', callback)\n  }\n  onShouldToggleLinter(callback: (...args: Array<any>) => any): Disposable {\n    return this.emitter.on('should-toggle-linter', callback)\n  }\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n\n  dispose() {\n    this.subscriptions.dispose()\n  }\n}\n\nexport async function showDebug(standardLinters: Array<Linter>, indieLinters: Array<IndieDelegate>, uiProviders: Array<UI>) {\n  if (!manifest) {\n    manifest = require('../package.json')\n  }\n\n  const textEditor = atom.workspace.getActiveTextEditor()\n  if (textEditor === undefined) {\n    return\n  }\n  const textEditorScopes = Helpers.getEditorCursorScopes(textEditor)\n  const sortedLinters = standardLinters.slice().sort(sortByName)\n  const sortedIndieLinters = indieLinters.slice().sort(sortByName)\n  const sortedUIProviders = uiProviders.slice().sort(sortByName)\n\n  const indieLinterNames = sortedIndieLinters.map(formatItem).join('\\n')\n  const standardLinterNames = sortedLinters.map(formatItem).join('\\n')\n  const matchingStandardLinters = sortedLinters\n    .filter(linter => Helpers.shouldTriggerLinter(linter, false, textEditorScopes))\n    .map(formatItem)\n    .join('\\n')\n  const humanizedScopes = textEditorScopes.map(formatItem).join('\\n')\n  const uiProviderNames = sortedUIProviders.map(formatItem).join('\\n')\n\n  const ignoreGlob = atom.config.get('linter.ignoreGlob')\n  const ignoreVCSIgnoredPaths = atom.config.get('core.excludeVcsIgnoredPaths')\n  const disabledLinters = atom.config.get('linter.disabledProviders').map(formatItem).join('\\n')\n  const filePathIgnored = await Helpers.isPathIgnored(textEditor.getPath(), ignoreGlob, ignoreVCSIgnoredPaths)\n\n  atom.notifications.addInfo('Linter Debug Info', {\n    detail: [\n      `Platform: ${process.platform}`,\n      `Atom Version: ${atom.getVersion()}`,\n      `Linter Version: ${manifest.version}`,\n      `Opened file is ignored: ${filePathIgnored ? 'Yes' : 'No'}`,\n      `Matching Linter Providers: \\n${matchingStandardLinters}`,\n      `Disabled Linter Providers: \\n${disabledLinters}`,\n      `Standard Linter Providers: \\n${standardLinterNames}`,\n      `Indie Linter Providers: \\n${indieLinterNames}`,\n      `UI Providers: \\n${uiProviderNames}`,\n      `Ignore Glob: ${ignoreGlob}`,\n      `VCS Ignored Paths are excluded: ${ignoreVCSIgnoredPaths}`,\n      `Current File Scopes: \\n${humanizedScopes}`,\n    ].join('\\n'),\n    dismissable: true,\n  })\n}\n","import { CompositeDisposable, Emitter, Disposable } from 'atom'\n\n// https://github.com/atom/atom-select-list/pull/31\nlet SelectListView: any\ntype ToggleAction = 'enable' | 'disable'\n\nexport default class ToggleView {\n  private action: ToggleAction\n  private emitter: Emitter = new Emitter()\n  private providers: Array<string>\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n  private disabledProviders: Array<string> = []\n\n  constructor(action: ToggleAction, providers: Array<string>) {\n    this.action = action\n    this.providers = providers\n\n    this.subscriptions.add(\n      this.emitter,\n      atom.config.observe('linter.disabledProviders', disabledProviders => {\n        this.disabledProviders = disabledProviders\n      }),\n    )\n  }\n  getItems(): Array<string> {\n    if (this.action === 'disable') {\n      return this.providers.filter(name => !this.disabledProviders.includes(name))\n    }\n    return this.disabledProviders\n  }\n  process(name: string): void {\n    if (this.action === 'disable') {\n      this.disabledProviders.push(name)\n      this.emitter.emit('did-disable', name)\n    } else {\n      const index = this.disabledProviders.indexOf(name)\n      if (index !== -1) {\n        this.disabledProviders.splice(index, 1)\n      }\n    }\n    atom.config.set('linter.disabledProviders', this.disabledProviders)\n  }\n  show() {\n    if (!SelectListView) {\n      SelectListView = require('atom-select-list')\n    }\n    const selectListView = new SelectListView({\n      items: this.getItems(),\n      emptyMessage: 'No matches found',\n      elementForItem: (item: any) => {\n        const li = document.createElement('li')\n        li.textContent = item\n        return li\n      },\n      didConfirmSelection: (item: any) => {\n        try {\n          this.process(item)\n          this.dispose()\n        } catch (e) {\n          console.error('[Linter] Unable to process toggle:', e)\n        }\n      },\n      didCancelSelection: () => {\n        this.dispose()\n      },\n      didConfirmEmptySelection: () => {\n        this.dispose()\n      },\n    })\n    const panel = atom.workspace.addModalPanel({ item: selectListView })\n\n    selectListView.focus()\n    this.subscriptions.add(\n      new Disposable(function () {\n        panel.destroy()\n      }),\n    )\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  onDidDispose(callback: () => any): Disposable {\n    return this.emitter.on('did-dispose', callback)\n  }\n  onDidDisable(callback: (name: string) => any): Disposable {\n    return this.emitter.on('did-disable', callback)\n  }\n  /* eslint-enable @typescript-eslint/no-explicit-any */\n\n  dispose() {\n    this.emitter.emit('did-dispose')\n    this.subscriptions.dispose()\n  }\n}\n","import { CompositeDisposable, Disposable } from 'atom'\n\nimport Linter from './main'\nimport type { UI, Linter as LinterProvider, Indie } from './types'\n\n// Internal variables\nlet instance: Linter\nlet subscriptions: CompositeDisposable\n\nexport function activate() {\n  subscriptions = new CompositeDisposable()\n\n  instance = new Linter()\n  subscriptions.add(\n    instance,\n    atom.packages.onDidActivateInitialPackages(function () {\n      if (!atom.inSpecMode()) {\n        require('atom-package-deps').install('linter', true)\n      }\n    }),\n  )\n}\nexport function consumeLinter(linter: LinterProvider | Array<LinterProvider>): Disposable {\n  const linters = Array.isArray(linter) ? linter : [linter]\n\n  for (const entry of linters) {\n    instance.addLinter(entry)\n  }\n  return new Disposable(() => {\n    for (const entry of linters) {\n      instance.deleteLinter(entry)\n    }\n  })\n}\nexport function consumeUI(ui: UI | Array<UI>): Disposable {\n  const uis = Array.isArray(ui) ? ui : [ui]\n\n  for (const entry of uis) {\n    instance.addUI(entry)\n  }\n  return new Disposable(() => {\n    for (const entry of uis) {\n      instance.deleteUI(entry)\n    }\n  })\n}\nexport function provideIndie() {\n  return (indie: Indie) => instance.addIndie(indie)\n}\nexport function deactivate() {\n  subscriptions.dispose()\n}\n","import arrayUnique from 'lodash/uniq'\nimport { CompositeDisposable } from 'atom'\n\nimport UIRegistry from './ui-registry'\nimport IndieRegistry from './indie-registry'\nimport MessageRegistry from './message-registry'\nimport LinterRegistry from './linter-registry'\nimport EditorsRegistry from './editor-registry'\nimport { Commands, showDebug } from './commands'\nimport ToggleView from './toggle-view'\nimport type { UI, Linter as LinterProvider, Indie } from './types'\n\nclass Linter {\n  private commands: Commands = new Commands()\n  private registryUI?: UIRegistry\n  private registryIndie?: IndieRegistry\n  private registryEditors?: EditorsRegistry\n  private registryLinters?: LinterRegistry\n  private registryMessages?: MessageRegistry\n  private subscriptions: CompositeDisposable = new CompositeDisposable()\n  private idleCallbacks: Set<number> = new Set()\n\n  constructor() {\n    this.subscriptions.add(this.commands)\n\n    this.commands.onShouldLint(() => {\n      this.registryEditorsInit()\n      const textEditor = atom.workspace.getActiveTextEditor()\n      if (textEditor === undefined) {\n        return\n      }\n      // this.registryEditors becomes valid inside registryEditorsInit\n      const editorLinter = this.registryEditors!.get(textEditor)\n      if (editorLinter) {\n        editorLinter.lint()\n      }\n    })\n    this.commands.onShouldToggleActiveEditor(() => {\n      const textEditor = atom.workspace.getActiveTextEditor()\n      if (textEditor === undefined) {\n        return\n      }\n      this.registryEditorsInit()\n      // this.registryEditors becomes valid inside registryEditorsInit\n      const editor = this.registryEditors!.get(textEditor)\n      if (editor) {\n        editor.dispose()\n      } else if (textEditor) {\n        // this.registryEditors becomes valid inside registryEditorsInit\n        this.registryEditors!.createFromTextEditor(textEditor)\n      }\n    })\n    this.commands.onShouldDebug(async () => {\n      this.registryUIInit()\n      this.registryIndieInit()\n      this.registryLintersInit()\n      await showDebug(\n        // this.registryLinters becomes valid inside registryLintersInit\n        this.registryLinters!.getProviders(),\n        // this.registryIndie becomes valid inside registryIndieInit\n        this.registryIndie!.getProviders(),\n        // this.registryUI becomes valid inside registryUIInit\n        this.registryUI!.getProviders(),\n      )\n    })\n    this.commands.onShouldToggleLinter(action => {\n      this.registryLintersInit()\n      // this.registryLinters becomes valid inside registryLintersInit\n      const toggleView = new ToggleView(action, arrayUnique(this.registryLinters!.getProviders().map(linter => linter.name)))\n      toggleView.onDidDispose(() => {\n        this.subscriptions.remove(toggleView)\n      })\n      toggleView.onDidDisable(name => {\n        // this.registryLinters becomes valid inside registryLintersInit\n        const linter = this.registryLinters!.getProviders().find(entry => entry.name === name)\n        if (linter) {\n          this.registryMessagesInit()\n          // this.registryMessages becomes valid inside registryMessagesInit\n          this.registryMessages!.deleteByLinter(linter)\n        }\n      })\n      toggleView.show()\n      this.subscriptions.add(toggleView)\n    })\n\n    const projectPathChangeCallbackID = window.requestIdleCallback(\n      /* projectPathChange */ () => {\n        this.idleCallbacks.delete(projectPathChangeCallbackID)\n        // NOTE: Atom triggers this on boot so wait a while\n        this.subscriptions.add(\n          atom.project.onDidChangePaths(() => {\n            this.commands.lint()\n          }),\n        )\n      },\n    )\n    this.idleCallbacks.add(projectPathChangeCallbackID)\n\n    const registryEditorsInitCallbackID = window.requestIdleCallback(\n      /* registryEditorsIdleInit */ () => {\n        this.idleCallbacks.delete(registryEditorsInitCallbackID)\n        // This will be called on the fly if needed, but needs to run on it's\n        // own at some point or linting on open or on change will never trigger\n        this.registryEditorsInit()\n      },\n    )\n    this.idleCallbacks.add(registryEditorsInitCallbackID)\n  }\n  dispose() {\n    this.idleCallbacks.forEach(callbackID => window.cancelIdleCallback(callbackID))\n    this.idleCallbacks.clear()\n    this.subscriptions.dispose()\n  }\n\n  registryEditorsInit() {\n    if (this.registryEditors !== undefined) {\n      return\n    }\n    this.registryEditors = new EditorsRegistry()\n    this.subscriptions.add(this.registryEditors)\n    this.registryEditors.observe(editorLinter => {\n      editorLinter.onShouldLint(onChange => {\n        this.registryLintersInit()\n        // this.registryLinters becomes valid inside registryLintersInit\n        this.registryLinters!.lint({ onChange, editor: editorLinter.getEditor() })\n      })\n      editorLinter.onDidDestroy(() => {\n        this.registryMessagesInit()\n        if (!this.registryEditors!.hasSibling(editorLinter)) {\n          // this.registryMessages becomes valid inside registryMessagesInit\n          this.registryMessages!.deleteByBuffer(editorLinter.getEditor().getBuffer())\n        }\n      })\n    })\n    this.registryEditors.activate()\n  }\n  registryLintersInit() {\n    if (this.registryLinters !== undefined) {\n      return\n    }\n    this.registryLinters = new LinterRegistry()\n    this.subscriptions.add(this.registryLinters)\n    this.registryLinters.onDidUpdateMessages(({ linter, messages, buffer }) => {\n      this.registryMessagesInit()\n      // this.registryMessages becomes valid inside registryMessagesInit\n      this.registryMessages!.set({ linter, messages, buffer })\n    })\n    this.registryLinters.onDidBeginLinting(({ linter, filePath }) => {\n      this.registryUIInit()\n      // this.registryUI becomes valid inside registryUIInit\n      this.registryUI!.didBeginLinting(linter, filePath)\n    })\n    this.registryLinters.onDidFinishLinting(({ linter, filePath }) => {\n      this.registryUIInit()\n      // this.registryUI becomes valid inside registryUIInit\n      this.registryUI!.didFinishLinting(linter, filePath)\n    })\n  }\n  registryIndieInit() {\n    if (this.registryIndie !== undefined) {\n      return\n    }\n    this.registryIndie = new IndieRegistry()\n    this.subscriptions.add(this.registryIndie)\n    this.registryIndie.observe(indieLinter => {\n      indieLinter.onDidDestroy(() => {\n        this.registryMessagesInit()\n        // this.registryMessages becomes valid inside registryMessagesInit\n        this.registryMessages!.deleteByLinter(indieLinter)\n      })\n    })\n    this.registryIndie.onDidUpdate(({ linter, messages }) => {\n      this.registryMessagesInit()\n      // this.registryMessages becomes valid inside registryMessagesInit\n      this.registryMessages!.set({ linter, messages, buffer: null })\n    })\n  }\n  registryMessagesInit() {\n    if (this.registryMessages) {\n      return\n    }\n    this.registryMessages = new MessageRegistry()\n    this.subscriptions.add(this.registryMessages)\n    this.registryMessages.onDidUpdateMessages(difference => {\n      this.registryUIInit()\n      // this.registryUI becomes valid inside registryUIInit\n      this.registryUI!.render(difference)\n    })\n  }\n  registryUIInit() {\n    if (this.registryUI !== undefined) {\n      return\n    }\n    this.registryUI = new UIRegistry()\n    this.subscriptions.add(this.registryUI)\n  }\n\n  // API methods for providing/consuming services\n  // UI\n  addUI(ui: UI) {\n    this.registryUIInit()\n    // this.registryUI becomes valid inside registryUIInit\n    this.registryUI!.add(ui)\n    this.registryMessagesInit()\n    // this.registryMessages becomes valid inside registryMessagesInit\n    const messages = this.registryMessages!.messages\n    if (messages.length) {\n      ui.render({ added: messages, messages, removed: [] })\n    }\n  }\n  deleteUI(ui: UI) {\n    this.registryUIInit()\n    // this.registryUI becomes valid inside registryUIInit\n    this.registryUI!.delete(ui)\n  }\n  // Standard Linter\n  addLinter(linter: LinterProvider) {\n    this.registryLintersInit()\n    // this.registryLinters becomes valid inside registryLintersInit\n    this.registryLinters!.addLinter(linter)\n  }\n  deleteLinter(linter: LinterProvider) {\n    this.registryLintersInit()\n    // this.registryLinters becomes valid inside registryLintersInit\n    this.registryLinters!.deleteLinter(linter)\n    this.registryMessagesInit()\n    // this.registryMessages becomes valid inside registryMessagesInit\n    this.registryMessages!.deleteByLinter(linter)\n  }\n  // Indie Linter\n  addIndie(indie: Indie) {\n    this.registryIndieInit()\n    // this.registryIndie becomes valid inside registryIndieInit\n    return this.registryIndie!.register(indie, 2)\n  }\n}\n\nexport default Linter\n"],"names":["global","Object","freeSelf","self","freeGlobal","Function","root","Symbol","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","value","isOwn","call","tag","unmasked","e","result","getRawTag","objectToString","type","uid","isObject","baseGetTag","maskSrcKey","exec","coreJsData","keys","IE_PROTO","func","funcToString","reIsHostCtor","funcProto","reIsNative","RegExp","replace","isMasked","isFunction","test","toSource","object","key","getValue","baseIsNative","getNative","this","__data__","nativeCreate","size","has","data","Hash","entries","index","length","clear","entry","set","hashClear","hashDelete","get","hashGet","hashHas","hashSet","other","array","eq","splice","Array","assocIndexOf","pop","push","ListCache","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","hash","map","Map","string","isKeyable","getMapData","MapCache","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","SetCache","values","add","setCacheAdd","setCacheHas","predicate","fromIndex","fromRight","strictIndexOf","baseFindIndex","baseIsNaN","baseIndexOf","comparator","cache","forEach","Set","setToArray","noop","iteratee","includes","arrayIncludes","isCommon","seen","arrayIncludesWith","createSet","cacheHas","outer","computed","seenIndex","baseUniq","showError","title","description","points","renderedPoints","item","atom","notifications","addWarning","dismissable","detail","join","VALID_SEVERITY","validateMessages","linterName","messages","isArray","invalidURL","invalidIcon","invalidExcerpt","invalidLocation","invalidSeverity","invalidSolution","invalidReference","invalidDescription","invalidLinterName","i","message","reference","icon","location","file","position","range","Range","fromObject","Number","isNaN","start","row","column","end","solutions","Point","excerpt","severity","url","UIRegistry","[object Object]","CompositeDisposable","ui","providers","name","didBeginLinting","didFinishLinting","render","dispose","validateUI","subscriptions","provider","delete","from","linter","filePath","$activated","$requestLastReceived","shouldTriggerLinter","wasTriggeredOnChange","scopes","lintsOnChange","some","scope","grammarScopes","getEditorCursorScopes","textEditor","arrayUnique","getCursors","reduce","cursor","concat","getScopeDescriptor","getScopesArray","minimatch","async","isPathIgnored","ignoredGlob","ignoredVCS","directory","Directory","repository","project","repositoryForDirectory","normalizedFilePath","process","platform","require","updateMessageKey","normalizeMessages","solution","j","_length","version","flagMessages","inputs","oldMessages","oldKept","oldRemoved","newAdded","keyMessageMap","createKeyMessageMap","iInput","len","input","cacheKeys","oldKeptKeys","oldRemovedKeys","filter","x","iRemoved","RemovedKeysLen","mergeArray","arr1","arr2","apply","IndieDelegate","indie","Emitter","emitter","out","m","disposed","emit","Error","Validate.messages","console","debug","getMessages","inDevMode","fileMessages","callback","on","IndieRegistry","config","validateIndie","indieLinter","delegates","onDidDestroy","onDidUpdate","Date","now","reWhitespace","charAt","reTrimStart","slice","trimmedEndIndex","isObjectLike","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","isSymbol","valueOf","baseTrim","isBinary","nativeMax","Math","max","nativeMin","min","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","clearTimeout","toNumber","cancel","flush","MessageRegistry","debouncedUpdate","debounce","update","buffer","found","messagesMap","changed","deleted","added","removed","flaggedMessages","allThisEntry","LinterRegistry","observe","lintOnChange","ignoreVCS","ignoreGlob","lintPreviewTabs","disabledProviders","linters","lint","Validate.linter","onChange","editor","getPath","workspace","getActivePane","getPendingItem","Helpers.isPathIgnored","Helpers.getEditorCursorScopes","promises","Helpers.shouldTriggerLinter","number","statusBuffer","getBuffer","statusFilePath","Promise","resolve","then","isAlive","validity","Helpers.normalizeMessages","error","notificationMessage","activeNotifications","getOptions","notification","addError","buttons","text","onDidClick","openDevTools","dismiss","all","EditorLinter","isTextEditor","editorBuffer","debouncedLint","onDidSave","onDidReload","subscriptiveObserve","interval","onDidChange","eventName","subscription","eventSubscription","props","Disposable","EditorRegistry","lintOnOpen","observeTextEditors","createFromTextEditor","editorLinters","editorLinter","getEditor","manifest","SelectListView","instance","formatItem","itemName","sortByName","item1","item2","localeCompare","Commands","commands","linter:enable-linter","enableLinter","linter:disable-linter","disableLinter","linter:lint","linter:debug","linter:toggle-active-editor","toggleActiveEditor","ToggleView","action","indexOf","selectListView","items","getItems","emptyMessage","elementForItem","li","document","createElement","textContent","didConfirmSelection","didCancelSelection","didConfirmEmptySelection","panel","addModalPanel","focus","destroy","Linter","onShouldLint","registryEditorsInit","getActiveTextEditor","registryEditors","onShouldToggleActiveEditor","onShouldDebug","registryUIInit","registryIndieInit","registryLintersInit","standardLinters","indieLinters","uiProviders","textEditorScopes","sortedLinters","sort","sortedIndieLinters","sortedUIProviders","indieLinterNames","standardLinterNames","matchingStandardLinters","humanizedScopes","uiProviderNames","ignoreVCSIgnoredPaths","disabledLinters","filePathIgnored","addInfo","getVersion","showDebug","registryLinters","getProviders","registryIndie","registryUI","onShouldToggleLinter","toggleView","onDidDispose","remove","onDidDisable","find","registryMessagesInit","registryMessages","deleteByLinter","show","projectPathChangeCallbackID","window","requestIdleCallback","idleCallbacks","onDidChangePaths","registryEditorsInitCallbackID","callbackID","cancelIdleCallback","EditorsRegistry","hasSibling","deleteByBuffer","activate","onDidUpdateMessages","onDidBeginLinting","onDidFinishLinting","difference","addLinter","deleteLinter","register","packages","onDidActivateInitialPackages","inSpecMode","install","uis","addUI","deleteUI","addIndie"],"mappings":"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"}